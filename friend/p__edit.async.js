(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{Al62:function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return l});a("JEpz");var n=a("FTOW"),r=a("czhI"),c=a.n(r);var i=c.a.create({baseURL:"http://zhikume.cn/api/v0"});i.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),i.interceptors.response.use(function(e){if(200===e.data.state)return e.data;n["a"].fail(e.data.msg||"\u7f51\u7edc\u9519\u8bef",3)},function(e){return Promise.reject(e)});var l="516c80c3-ae19-4eaf-923b-a1e902493183"},BmoW:function(e,t,a){"use strict";a.r(t);a("cY1F");var n=a("2pDf"),r=(a("u16O"),a("O3yZ")),c=(a("W7WM"),a("6sbr")),i=(a("XHW3"),a("EJMI")),l=(a("HtAr"),a("HK2H")),s=a("/Nab"),o=a.n(s),u=(a("JEpz"),a("FTOW")),p=a("hfCB"),m=a.n(p),f=a("P9oP"),d=a.n(f),h=a("mXGw"),g=a.n(h),v=a("cn86"),b=a.n(v),k=a("Al62"),E=a("kTgz"),_=a.n(E),w={tx:"\u5934\u50cf",think:"\u60f3\u6cd5",imgs:"\u56fe\u96c6"},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={};for(var n in e)a[t[n]]=e[n];return a},B={};function C(e){var t=Object(h["useState"])([]),a=d()(t,2),s=a[0],p=a[1],f=()=>{b.a.push("/")},v=(e,t,a)=>{p(e)},E=e=>{console.log(e)},C=(e,t)=>{B[e]=t},W=function(){var e=m()(o.a.mark(function e(){var t,a,n;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(u["a"].loading("\u6b63\u5728\u4e0a\u4f20\u4e2d...",5),!(B.think.length<2)){e.next=4;break}return u["a"].fail("\u60f3\u6cd5\u81f3\u5c11\u8981\u8bf42\u4e2a\u5b57\u54e6~",2),e.abrupt("return");case 4:t=new FormData,B["imgs"]={imgUrls:[]},a=0;case 7:if(!(a<s.length)){e.next=23;break}return t.delete("file"),t.append("file",s[a].file),e.prev=10,e.next=13,Object(k["b"])({method:"post",url:"/files/upload/tx",data:t,headers:{"Content-Type":"multipart/form-data"}});case 13:n=e.sent,n.result&&B["imgs"]["imgUrls"].push(n.result.url),e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](10),u["a"].fail("\u4e0a\u4f20\u5931\u8d25",2);case 20:a++,e.next=7;break;case 23:k["b"].post("/form/save",{fid:k["a"],formData:x(B,w)}).then(e=>{b.a.push("/")}).catch(e=>{u["a"].fail("\u53d1\u5e03\u5931\u8d25,\u8bf7\u91cd\u8bd5",2)});case 24:case"end":return e.stop()}},e,null,[[10,17]])}));return function(){return e.apply(this,arguments)}}();return Object(h["useEffect"])(()=>{document.title="\u6280\u672f\u751f\u6d3b\u5708"},[]),g.a.createElement("div",{className:_.a.editWrap},g.a.createElement("div",{className:_.a.navBar},g.a.createElement("span",{className:_.a.leftBtn,onClick:f},g.a.createElement(l["a"],{type:"left"})),g.a.createElement(i["a"],{type:"primary",className:_.a.rightBtn,size:"small",onClick:W},"\u53d1\u8868")),g.a.createElement("div",{className:_.a.contentEdit},g.a.createElement(c["a"],{clear:!0,placeholder:"\u8f93\u51651-2\u4e2a\u5b57\u5fc3\u60c5,\u7528\u4e8e\u5934\u50cf\u663e\u793a",maxLength:2,onChange:C.bind(this,"tx")}),g.a.createElement(r["a"],{placeholder:"\u8fd9\u4e00\u523b\u7684\u60f3\u6cd5...",autoHeight:!0,rows:3,onChange:C.bind(this,"think"),labelNumber:6,count:100}),g.a.createElement("div",null,g.a.createElement(n["a"],{length:"3",files:s,onChange:v,onImageClick:(e,t)=>console.log(e,t),selectable:s.length<9,onAddImageClick:E,accept:"image/*",multiple:!0}),g.a.createElement("p",{style:{color:"red",marginLeft:"10px"}},"\u56fe\u7247\u6700\u597d\u5c0f\u4e8e1M,\u5426\u5219\u53ef\u80fd\u4e0a\u4f20\u5931\u8d25~"))))}t["default"]=C},kTgz:function(e,t,a){e.exports={editWrap:"editWrap___2Dskd",navBar:"navBar___2LPN6",leftBtn:"leftBtn___1p_L0",rightBtn:"rightBtn___2TC5E"}}}]);